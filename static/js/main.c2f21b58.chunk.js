(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(68)},37:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(26),c=n.n(l),o=(n(37),n(31)),s=n(30),u=n(8),i=n.n(u),m=n(12),p=n(9),d=function(e){var t=e.title;return a.createElement("header",{className:"Header"},a.createElement("h1",null,t))},E=n(3),b=function(e){var t=e.search,n=e.setSearch;return a.createElement("nav",{className:"Nav"},a.createElement("form",{className:"searchForm",onSubmit:function(e){return e.preventDefault()}},a.createElement("label",{htmlFor:"search"},"Search Posts"),a.createElement("input",{id:"search",type:"text",placeholder:"Search Posts",value:t,onChange:function(e){return n(e.target.value)}})),a.createElement("ul",null,a.createElement("li",null,a.createElement(E.b,{to:"/"},"Home")),a.createElement("li",null,a.createElement(E.b,{to:"/post"},"Post")),a.createElement("li",null,a.createElement(E.b,{to:"/about"},"About"))))},f=function(){var e=new Date;return a.createElement("footer",{className:"Footer"},a.createElement("p",null,"Copyright \xa9 ",e.getFullYear()))},h=function(e){var t=e.post;return a.createElement("article",{className:"post"},a.createElement(E.b,{to:"/post/".concat(t.id)},a.createElement("h2",null,t.title),a.createElement("p",{className:"postDate"},t.datetime)),a.createElement("p",{className:"postBody"},t.body.length<=25?t.body:"".concat(t.body.slice(0,25),"...")))},v=function(e){var t=e.posts;return a.createElement(a.Fragment,null,t.map(function(e){return a.createElement(h,{key:e.id,post:e})}))},g=function(e){var t=e.posts;return a.createElement("main",{className:"Home"},t.length?a.createElement(v,{posts:t}):a.createElement("p",{style:{marginTop:"2rem"}},"No posts to display"))},y=function(e){var t=e.handleSubmit,n=e.postTitle,r=e.setPostTitle,l=e.postBody,c=e.setPostBody;return a.createElement("main",{className:"NewPost"},a.createElement("h2",null,"New Post"),a.createElement("form",{className:"newPostForm",onSubmit:t},a.createElement("label",{htmlFor:"postTitle"},"Title:"),a.createElement("input",{id:"postTitle",type:"text",required:!0,value:n,onChange:function(e){return r(e.target.value)}}),a.createElement("label",{htmlFor:"postBody"},"Post:"),a.createElement("textarea",{id:"postBody",required:!0,value:l,onChange:function(e){return c(e.target.value)}}),a.createElement("button",{type:"submit"},"Submit")))},O=n(1),j=function(e){var t=e.posts,n=e.handleDelete,r=Object(O.g)().id,l=t.find(function(e){return e.id.toString()===r});return a.createElement("main",{className:"PostPage"},a.createElement("article",{className:"post"},l&&a.createElement(a.Fragment,null,a.createElement("h2",null,l.title),a.createElement("p",{className:"postDate"},l.datetime),a.createElement("p",{className:"postBody"},l.body),a.createElement(E.b,{to:"/edit/".concat(l.id)},a.createElement("button",{className:"editButton"},"Edit Post")),a.createElement("button",{className:"deleteButton",onClick:function(){return n(l.id)}},"Delete Post")),!l&&a.createElement(a.Fragment,null,a.createElement("h2",null,"Post Not Found"),a.createElement("p",null,"SORRY :/"),a.createElement("p",null,a.createElement(E.b,{to:"/"},"Visit Our Homepage")))))},N=function(e){var t=e.posts,n=e.handleEdit,r=e.editBody,l=e.setEditBody,c=e.editTitle,o=e.setEditTitle,s=Object(O.g)().id,u=t.find(function(e){return e.id.toString()===s});return Object(a.useEffect)(function(){u&&(o(u.title),l(u.body))},[u,l,o]),a.createElement("main",{className:"NewPost"},c&&a.createElement(a.Fragment,null,a.createElement("h2",null,"Edit Post"),a.createElement("form",{className:"newPostForm",onSubmit:function(e){return e.preventDefault()}},a.createElement("label",{htmlFor:"postTitle"},"Title:"),a.createElement("input",{id:"postTitle",type:"text",required:!0,value:c,onChange:function(e){return o(e.target.value)}}),a.createElement("label",{htmlFor:"postBody"},"Post:"),a.createElement("textarea",{id:"postBody",required:!0,value:r,onChange:function(e){return l(e.target.value)}}),a.createElement("button",{type:"submit",onClick:function(){return n(u.id)}},"Submit"))),!c&&a.createElement(a.Fragment,null,a.createElement("h2",null,"No Post Found"),a.createElement("p",null,"sorry!"),a.createElement("p",null,a.createElement(E.b,{to:"/"},"Visit Our Homepage"))))},w=function(){return a.createElement("main",{className:"About"},a.createElement("h2",null,"About"),a.createElement("p",{style:{marginTop:"1rem"}},"This is a simple blog app created with react."))},S=function(){return a.createElement("main",{className:"Missing"},a.createElement("h2",null,"Page Not Found"),a.createElement("p",null,"SORRY :/"),a.createElement("p",null,a.createElement(E.b,{to:"/"},"Visit Our Homepage")))},P=n(70),x=n(29),B=n.n(x).a.create({baseURL:"https://my-json-server.typicode.com/ktllama/blogdata"});var F=function(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)(""),c=Object(p.a)(l,2),u=c[0],E=c[1],h=Object(a.useState)([]),v=Object(p.a)(h,2),x=v[0],F=v[1],T=Object(a.useState)(""),k=Object(p.a)(T,2),C=k[0],D=k[1],M=Object(a.useState)(""),H=Object(p.a)(M,2),R=H[0],L=H[1],q=Object(a.useState)(""),A=Object(p.a)(q,2),V=A[0],Y=A[1],J=Object(a.useState)(""),I=Object(p.a)(J,2),U=I[0],z=I[1],G=Object(O.f)();Object(a.useEffect)(function(){!function(){var e=Object(m.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.get("/posts");case 3:t=e.sent,r(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0.response?(console.log(e.t0.response.data),console.log(e.t0.response.status),console.log(e.t0.response.headers)):console.log("Error: ".concat(e.t0.message));case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()()},[]),Object(a.useEffect)(function(){var e=n.filter(function(e){return e.body.toLowerCase().includes(u.toLowerCase())||e.title.toLowerCase().includes(u.toLowerCase())});F(e.reverse())},[n,u]);var K=function(){var e=Object(m.a)(i.a.mark(function e(t){var a,l,c,o,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=n.length?n[n.length-1].id+1:1,l=Object(P.a)(new Date,"MMMM dd, yyyy pp"),c={id:a,title:C,datetime:l,body:R},e.prev=4,e.next=7,B.post("/posts",c);case 7:o=e.sent,u=[].concat(Object(s.a)(n),[o.data]),r(u),D(""),L(""),G.push("/"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),console.log("Error: ".concat(e.t0.message));case 18:case"end":return e.stop()}},e,null,[[4,15]])}));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(m.a)(i.a.mark(function e(t){var a,l,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(P.a)(new Date,"MMMM dd, yyyy pp"),l={id:t,title:V,datetime:a,body:U},e.prev=2,e.next=5,B.put("/posts/".concat(t),l);case 5:c=e.sent,r(n.map(function(e){return e.id===t?Object(o.a)({},c.data):e})),Y(""),z(""),G.push("/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("Error: ".concat(e.t0.message));case 15:case"end":return e.stop()}},e,null,[[2,12]])}));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(m.a)(i.a.mark(function e(t){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.delete("/posts/".concat(t));case 3:a=n.filter(function(e){return e.id!==t}),r(a),G.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message));case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}();return a.createElement("div",{className:"App"},a.createElement(d,{title:"React Blog"}),a.createElement(b,{search:u,setSearch:E}),a.createElement(O.c,null,a.createElement(O.a,{exact:!0,path:"/"},a.createElement(g,{posts:x})),a.createElement(O.a,{exact:!0,path:"/post"},a.createElement(y,{handleSubmit:K,postTitle:C,setPostTitle:D,postBody:R,setPostBody:L})),a.createElement(O.a,{path:"/edit/:id"},a.createElement(N,{posts:n,handleEdit:Q,editTitle:V,setEditTitle:Y,editBody:U,setEditBody:z})),a.createElement(O.a,{path:"/post/:id"},a.createElement(j,{posts:n,handleDelete:W})),a.createElement(O.a,{path:"/about",component:w}),a.createElement(O.a,{path:"*",component:S})),a.createElement(f,null))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E.a,null,r.a.createElement(O.a,{path:"/",component:F}))),document.getElementById("root"))}},[[32,2,1]]]);
//# sourceMappingURL=main.c2f21b58.chunk.js.map